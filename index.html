<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Random Nickname Generator</title>
</head>
<body>
  <h1>Random Nickname Generator</h1>
  <button onclick="generateNickname()">Generate</button>
  <p id="nickname"></p>
  
  <script>
    function generateNickname() {
      // 우리말샘 API 요청 URL
      const url = 'https://opendict.korean.go.kr/api/search';

      // API 키
      const key = 'A3759B44F655FCB921922EEE3B87F26B';

      // API 요청 파라미터 (랜덤 단어를 검색하기 위해 검색어에 '*'를 사용)
      const params = {
        'key': key,
        'q': '*',
        'advanced': 'y',
        'target': 'word'
      };

      // API 요청
      fetch(url + '?' + new URLSearchParams(params))
        .then(response => response.text())
        .then(data => {
          // API 응답 XML 파싱
          const parser = new DOMParser();
          const xml = parser.parseFromString(data, 'text/xml');

          // 랜덤 단어 선택
          const words = xml.getElementsByTagName('word');
          const word = words[Math.floor(Math.random() * words.length)].textContent;

          // 닉네임 생성
          const nickname = word.slice(0, 1) + Math.floor(Math.random() * 100);

          // 결과 출력
          document.getElementById('nickname').textContent = nickname;
        })
        .catch(error => console.error(error));
    }
  </script>
</body>
</html>
